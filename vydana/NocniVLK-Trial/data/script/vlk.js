var vlk={id_sec:["sec-kruh","sec-odp"],id_but:["pl-ob","max-ob","zastav","t-max-o"],id_z_svg:"zastav-svg",id_t_max_obch:["t-max-o","t-max-o-dia"],id_li:["spu-li","zas-li"], max_obch:false};vlk.zapni=function(){g_pos.ozivitOff();uloz.smaz(uloz.klice[9]);for(var i=0;i<this.id_sec.length;i++){document.getElementById(this.id_sec[i]).style.display="flex";}document.getElementById(p_nas.id_blok).style.display="flex";this.obch_max();this.posON();document.getElementById(this.id_li[0]).style.display="none";document.getElementById(this.id_li[1]).style.display="block";if(osoba.odloz_start==0){zvuk.nahraj();obch.aktivace();}else{gong.nahraj();text.pis("Start první obchůzky byl&nbsp;odložen");gong.hraj(false);kresly.system(obch.id_can);hlidac.odpocet=true;obch.pocitej();}uloz.osoba();uloz.s_obch();uloz.u_obch();};vlk.ozivit=function(){uloz.klonKOPII();g_pos.ozivitOff();uloz.smaz(uloz.klice[9]);for(var i=0;i<this.id_sec.length;i++){document.getElementById(this.id_sec[i]).style.display="flex";}document.getElementById(p_nas.id_blok).style.display="flex";this.obch_max();this.posON();document.getElementById(this.id_li[0]).style.display="none";document.getElementById(this.id_li[1]).style.display="flex";_int.prepis(osoba.level);pruvodce.box_int();if(uloz.v_obchuzce!=true){text.pis("Noční&nbsp;VLK byl&nbsp;oživen");gong.hraj(false);this.ozivit.kresly_system();tik.a_odpocet=true;hlidac.odpocet=true;}else{obch.aktivace();}};vlk.ozivit.kresly_system=function(){var okruh_puvodni=osoba.okruh;var o15=osoba.o15;var o30=osoba.o30;var o60=osoba.o60;var o120=osoba.o120;var okruh=osoba.okruh;if(okruh==11){if((o15==true&&o30==false&&o60==false&&o120==false)||(o15==false&&o30==true&&o60==false&&o120==false)||(o15==false&&o30==false&&o60==true&&o120==false)||(o15==false&&o30==false&&o60==false&&o120==true)){okruh=11;}else if((o15==true&&o30==true&&o60==false&&o120==false)||(o15==false&&o30==true&&o60==true&&o120==false)||(o15==false&&o30==false&&o60==true&&o120==true)){okruh=22;}else if((o15==true&&o30==true&&o60==true&&o120==false)||(o15==true&&o30==false&&o60==true&&o120==false)||(o15==false&&o30==true&&o60==true&&o120==true)||(o15==false&&o30==true&&o60==false&&o120==true)){okruh=44;}else if((o15==true&&o30==true&&o60==true&&o120==true)||(o15==true&&o30==false&&o60==true&&o120==true)||(o15==true&&o30==true&&o60==false&&o120==true)||(o15==true&&o30==false&&o60==false&&o120==true)){okruh=88;}}else{okruh=okruh-11;if(okruh<11){okruh=11;}}osoba.okruh=okruh;kresly.system(obch.id_can);osoba.okruh=okruh_puvodni;};vlk.obch_max=function(){var hodnotic=0;var text=null;if(osoba.o15==true){hodnotic++;text=15;}if(osoba.o30==true){hodnotic++;text=30;}if(osoba.o60==true){hodnotic++;text=60;}if(osoba.o120==true){hodnotic++;text=120;}if(hodnotic>1){this.max_obch=true;document.getElementById(this.id_but[1]).style.display="block";document.getElementById(this.id_t_max_obch[0]).innerHTML=text;document.getElementById(this.id_t_max_obch[1]).innerHTML=text;}else{this.max_obch=false;document.getElementById(this.id_but[1]).style.display="none";}};vlk.posON=function(){for(var i=0;i<this.id_but.length;i++){document.getElementById(this.id_but[i]).addEventListener("click",this);}if(this.max_obch!=false||this.max_obch!=true){this.obch_max();}if(this.max_obch==false){document.getElementById(this.id_but[1]).removeEventListener("click",this);}};vlk.posOFF=function(){for(var i=0;i<this.id_but.length;i++){document.getElementById(this.id_but[i]).removeEventListener("click",this);}};vlk.handleEvent=function(e){var k=e.target.id;if(k==this.id_but[0]){dia.on(dia.id[1]);}else if(k==this.id_but[1]||k==this.id_but[3]){dia.on(dia.id[2]);}else if(k==this.id_but[2]||k==this.id_z_svg){dia.on(dia.id[0]);}};var zvuk={zalozeno:false,zesilovat:true,mp3:null,cislo:1,cesta:"alarm/alarm1.mp3",alarm:["alarm/alarm1.mp3","alarm/alarm2.mp3","alarm/alarm3.mp3","alarm/alarm4.mp3","alarm/alarm5.mp3","alarm/alarm6.mp3"],nahrano:null,volume_min:0.05,volume:0.75,bc:"rgb(218,65,103)",bcT:"rgb(137,157,120)"};zvuk.zaloz=function(){this.mp3=new Audio(this.cesta);this.zalozeno=true;};zvuk.nahraj=function(){if(this.zalozeno!=true){this.zaloz();}this.mp3.load();this.nahrano=true;};zvuk.hraj=function(jak){if(this.nahrano!=true){this.nahraj();}this.mp3.loop=jak;this.volume_min=0.05;if(jak==true){if(this.zesilovat==true){this.mp3.volume=this.volume_min;}else if(this.zesilovat==true){this.mp3.volume=this.volume;}this.mp3.play();}else if(jak==false){this.mp3.volume=this.volume;this.mp3.play();}};zvuk.zesiluj=function(){if(this.zesilovat==true){this.mp3.volume=this.volume_min;if(this.volume<0.5){this.volume_min=this.volume_min+0.02;}else{this.volume_min=this.volume_min+0.03;}if(this.volume_min>=this.volume){this.volume_min=this.volume;}}};zvuk.zmen=function(id){var hodnota=parseInt(document.getElementById(id).value);if(hodnota<this.min){hodnota=this.min;}this.volume=hodnota/100;this.hraj(false);};zvuk.barvy=function(){var b1=document.getElementById(p_nas.id_nas[3]);var b2=document.getElementById(p_nas.id_nas[4]);var b3=document.getElementById(p_nas.id_nas[5]);var b4=document.getElementById(p_nas.id_nas[6]);var b5=document.getElementById(p_nas.id_nas[7]);var b6=document.getElementById(p_nas.id_nas[8]);b1.style.borderColor=this.bc;b2.style.borderColor=this.bc;b3.style.borderColor=this.bc;b4.style.borderColor=this.bc;b5.style.borderColor=this.bc;b6.style.borderColor=this.bc;if(this.cislo==1){b1.style.borderColor=this.bcT;}else if(this.cislo==2){b2.style.borderColor=this.bcT;}else if(this.cislo==3){b3.style.borderColor=this.bcT;}else if(this.cislo==4){b4.style.borderColor=this.bcT;}else if(this.cislo==5){b5.style.borderColor=this.bcT;}else if(this.cislo==6){b6.style.borderColor=this.bcT;}};zvuk.volba=function(cislo){if(this.cislo==cislo){this.hraj(false);return;}this.cislo=cislo;uloz.uloz(uloz.klice[10],this.cislo);var typ=cislo-1;this.cesta=this.alarm[typ];this.zaloz();this.hraj(false);this.barvy();};zvuk.zastav=function(){this.mp3.pause();};var gong=Object.create(zvuk);gong.cesta="alarm/alarm6.mp3";gong.nahraj();var obch={id_can:"can-hl",id_tlapa:"tlapa",id_f:["obch15","obch30","obch60","obch120"],intr:null,id:"obchuzka",id_ob:"ob-t",id_b:["vz1","vz2","p-obch"],id_an:["ss1","ss2","ss3","ss4"],id_odp:["o-min","o-sec1","o-sec2"],id_t_out:["t-out-m","t-out-s1","t-out-s2"],id_t:"ob",z_den:null,cas_T:null,TIME:250,TIME2:750};obch.tlapa=function(urci){var id_kr=this.id_can;var id_tl=this.id_tlapa;if(urci=="tlapa"){document.getElementById(id_kr).style.opacity=0;document.getElementById(id_tl).style.opacity=1;}else if(urci=="kruh"){document.getElementById(id_kr).style.opacity=1;document.getElementById(id_tl).style.opacity=0;}};obch.zaz_casTO=function(zbyle_s){var datum=new Date();var c_T=datum.getTime();var z_s=0;if(zbyle_s){z_s=parseInt(zbyle_s);c_T=c_T+(z_s*1000);}this.cas_T=c_T;uloz.uloz(uloz.klice[3],this.cas_T);};obch.zaz_casTO_vycisti=function(){this.cas_T=null;uloz.smaz(uloz.klice[3]);};obch.pocitej_T_OUT=function(){var d_a=new Date();var cas_a=d_a.getTime();var rozdil=parseInt(this.cas_T/1000)-parseInt(cas_a/1000);var sT=rozdil*(-1);var sekundy=sT%60;var minuty=(sT-sekundy)/60;if(sekundy<10){sekundy="0"+sekundy;}sekundy=sekundy.toString();var s1=sekundy.substring(0,1);var s2=sekundy.substring(1,2);document.getElementById(this.id_t_out[0]).innerHTML=minuty;document.getElementById(this.id_t_out[1]).innerHTML=s1;document.getElementById(this.id_t_out[2]).innerHTML=s2;};obch.zaz_cas=function(){var datum = new Date();this.z_den=datum.getTime();uloz.uloz(uloz.klice[1],this.z_den);};obch.interval=function(){if(osoba.o15==true){this.intr=osoba.i15;}else if(osoba.o30==true){this.intr=osoba.i30;}else if(osoba.o60==true){this.intr=osoba.i60;}else if(osoba.o120==true){this.intr=osoba.i120;}uloz.uloz(uloz.klice[8],this.intr);};obch.display_odp=function(zbyle_s){if(zbyle_s<0){zbyle_s=0;}var sekundy=zbyle_s%60;var minuty=(zbyle_s-sekundy)/60;if(sekundy<10){sekundy="0"+sekundy;}sekundy=sekundy.toString();var s1=sekundy.substring(0,1);var s2=sekundy.substring(1,2);document.getElementById(this.id_odp[0]).innerHTML=minuty;document.getElementById(this.id_odp[1]).innerHTML=s1;document.getElementById(this.id_odp[2]).innerHTML=s2;};obch.pocitej=function(){this.zaz_cas();this.interval();tik.a_odpocet=true;hlidac.odpocet=true;};obch.odpocet=function(){var d_a = new Date();var c_a=d_a.getTime();var c_aS=parseInt(c_a/1000);var c_zS=parseInt(this.z_den/1000);var rozdil=c_aS-c_zS;if(osoba.odloz_start==0){var zbyle_s=this.intr-rozdil;}else{var zbyle_s=(osoba.odloz_start*60)-rozdil;}this.display_odp(zbyle_s);if(zbyle_s<=0){this.aktivace(zbyle_s);}poloha.kontrola(zbyle_s);};obch.handleEvent=function(e){var k=e.target.id;if(k==this.id_b[0]||k==this.id_b[1]){zvuk.zastav();f_video.zvuk("zesilit");hlidac.odpocet=true;document.getElementById(this.id_b[2]).focus();}else if(k==this.id_b[2]){hlidac.aktivace();zamek.blok();window.onbeforeunload=function(){return 'Chcete zavřít aplikaci Noční VLK?';};this.DEaktivace();this.pocitej();}};obch.posON=function(){for(var i=0;i<this.id_b.length;i++){document.getElementById(this.id_b[i]).addEventListener("click" ,this);}};obch.posOFF=function(){for(var i=0;i<this.id_b.length;i++){document.getElementById(this.id_b[i]).removeEventListener("click" ,this);}};obch.rozdelovac=function(){var t=null;var o15=osoba.o15;var o30=osoba.o30;var o60=osoba.o60;var o120=osoba.o120;var o=osoba.okruh;if((o15==true&&o30==false&&o60==false&&o120==false)||(o15==false&&o30==true&&o60==false&&o120==false)||(o15==false&&o30==false&&o60==true&&o120==false)||(o15==false&&o30==false&&o60==false&&o120==true)){if(o15==true){t=15;}else if(o30==true){t=30;}else if(o60==true){t=60;}else if(o120==true){t=120;}}else if((o15==true&&o30==true&&o60==false&&o120==false)||(o15==false&&o30==true&&o60==true&&o120==false)||(o15==false&&o30==false&&o60==true&&o120==true)){if(o15==true&&o30==true&&o60==false&&o120==false){if(o==11){t=30;}else if(o==22){t=15;}}else if(o15==false&&o30==true&&o60==true&&o120==false){if(o==11){t=60;}else if(o==22){t=30;}}else if(o15==false&&o30==false&&o60==true&&o120==true){if(o==11){t=120;}else if(o==22){t=60;}}}else if((o15==true&&o30==true&&o60==true&&o120==false)||(o15==true&&o30==false&&o60==true&&o120==false)||(o15==false&&o30==true&&o60==true&&o120==true)||(o15==false&&o30==true&&o60==false&&o120==true)){if(o15==true&&o30==true&&o60==true&&o120==false){if(o==11){t=60;}else if(o==22){t=15;}else if(o==33){t=30;}else if(o==44){t=15;}}else if(o15==true&&o30==false&&o60==true&&o120==false){if(o==11){t=60;}else if(o==22){t=15;}else if(o==33){t=15;}else if(o==44){t=15;}}else if(o15==false&&o30==true&&o60==true&&o120==true){if(o==11){t=120;}else if(o==22){t=30;}else if(o==33){t=60;}else if(o==44){t=30;}}else if(o15==false&&o30==true&&o60==false&&o120==true){if(o==11){t=120;}else if(o==22){t=30;}else if(o==33){t=30;}else if(o==44){t=30;}}}else if((o15==true&&o30==true&&o60==true&&o120==true)||(o15==true&&o30==false&&o60==true&&o120==true)||(o15==true&&o30==true&&o60==false&&o120==true)||(o15==true&&o30==false&&o60==false&&o120==true)){if(o15==true&&o30==true&&o60==true&&o120==true){if(o==11){t=120;}else if(o==22){t=15;}else if(o==33){t=30;}else if(o==44){t=15;}else if(o==55){t=60;}else if(o==66){t=15;}else if(o==77){t=30;}else if(o==88){t=15;}}else if(o15==true&&o30==false&&o60==true&&o120==true){if(o==11){t=120;}else if(o==22){t=15;}else if(o==33){t=15;}else if(o==44){t=15;}else if(o==55){t=60;}else if(o==66){t=15;}else if(o==77){t=15;}else if(o==88){t=15;}}else if(o15==true&&o30==true&&o60==false&&o120==true){if(o==11){t=120;}else if(o==22){t=15;}else if(o==33){t=30;}else if(o==44){t=15;}else if(o==55){t=30;}else if(o==66){t=15;}else if(o==77){t=30;}else if(o==88){t=15;}}else if(o15==true&&o30==false&&o60==false&&o120==true){if(o==11){t=120;}else if(o==22){t=15;}else if(o==33){t=15;}else if(o==44){t=15;}else if(o==55){t=15;}else if(o==66){t=15;}else if(o==77){t=15;}else if(o==88){t=15;}}}return t;};obch.text=function(){var t=this.rozdelovac();var id=this.id_t;document.getElementById(id).innerHTML=t;};obch.zapis=function(){var t=this.rozdelovac();var o15=osoba.o15;var o30=osoba.o30;var o60=osoba.o60;var o120=osoba.o120;var z15=false, z30=false, z60=false, z120=false;var f15=document.getElementById(this.id_f[0]);var f30=document.getElementById(this.id_f[1]);var f60=document.getElementById(this.id_f[2]);var f120=document.getElementById(this.id_f[3]);var cas_aktual=hodiny.cas();var h=parseInt(cas_aktual[0]);var m=parseInt(cas_aktual[1]);var s=parseInt(cas_aktual[2]);if(s>45){m=m+1;}if(m<10){m=m.toString();m="0"+m;}else{m=m.toString();}h=h.toString();var t_c=h+":"+m;var z=t_c+", ";if(t==15){z15=true;}else if(t==30&&o15==true){z15=true;z30=true;}else if(t==30&&o15==false){z30=true;}else if(t==60&&o15==false&&o30==false){z60=true;}else if(t==60&&o15==true&&o30==false){z60=true;z15=true;}else if(t==60&&o15==false&&o30==true){z60=true;z30=true;}else if(t==60&&o15==true&&o30==true){z60=true;z30=true;z15=true;}else if(t==120&&o15==false&&o30==false&&o60==false){z120=true;}else if(t==120&&o15==true&&o30==false&&o60==false){z120=true;z15=true;}else if(t==120&&o15==false&&o30==true&&o60==false){z120=true;z30=true;}else if(t==120&&o15==false&&o30==false&&o60==true){z120=true;z60=true;}else if(t==120&&o15==true&&o30==true&&o60==false){z120=true;z30=true;z15=true;}else if(t==120&&o15==false&&o30==true&&o60==true){z120=true;z60=true;z30=true;}else if(t==120&&o15==true&&o30==false&&o60==true){z120=true;z60=true;z15=true;}else if(t==120&&o15==true&&o30==true&&o60==true){z15=true;z30=true;z60=true;z120=true;}if(z15==true){f15.value=f15.value+z;var o15old=uloz.nacti(uloz.klice[4]);var o15new=o15old+z;uloz.uloz(uloz.klice[4],o15new);}if(z30==true){f30.value=f30.value+z;var o30old=uloz.nacti(uloz.klice[5]);var o30new=o30old+z;uloz.uloz(uloz.klice[5],o30new);}if(z60==true){f60.value=f60.value+z;var o60old=uloz.nacti(uloz.klice[6]);var o60new=o60old+z;uloz.uloz(uloz.klice[6],o60new);}if(z120==true){f120.value=f120.value+z;var o120old=uloz.nacti(uloz.klice[7]);var o120new=o120old+z;uloz.uloz(uloz.klice[7],o120new);}};obch.aktivace=function(zbyle_s){f_video.zvuk("ztlumit");zvuk.hraj(true);tik.a_odpocet=false;hlidac.odpocet=false;if(uloz.v_obchuzce==false){this.zaz_casTO(zbyle_s);}tik.a_obchuzka=true;uloz.v_obchuzce=true;uloz.uloz(uloz.klice[2],true);dia.vyp_akt();this.tlapa("tlapa");this.text();v_port.handleEvent();if(osoba.odloz_start!=0){osoba.odloz_start=0;uloz.osoba();}document.getElementById(this.id_odp[0]).innerHTML="0";document.getElementById(this.id_odp[1]).innerHTML="0";document.getElementById(this.id_odp[2]).innerHTML="0";document.getElementById(this.id).style.display="block";setTimeout(this.zp.bind(this), this.TIME);setTimeout(this.foc.bind(this), this.TIME2);for(var i=0;i<this.id_an.length;i++){document.getElementById(this.id_an[i]).style.animationPlayState="running";}this.posON();};obch.DEaktivace=function(){zvuk.zastav();f_video.zvuk("zesilit");uzamceni.jednou();this.posOFF();tik.a_obchuzka=false;this.zaz_casTO_vycisti();uloz.uloz(uloz.klice[2],false);uloz.v_obchuzce=false;this.tlapa("kruh");for(var i=0;i<this.id_an.length;i++){document.getElementById(this.id_an[i]).style.animationPlayState="paused";}document.getElementById(this.id).style.opacity=0;setTimeout(this.non.bind(this), this.TIME);poloha.reset();kresly.system(this.id_can);this.zapis();pruvodce.o_posun();uloz.osoba();};obch.zp=function(){document.getElementById(this.id).style.opacity=1;document.getElementById(this.id_b[1]).focus();};obch.foc=function(){document.getElementById(this.id_ob).scrollIntoView({block:'center',behavior:'smooth'});};obch.non=function(){document.getElementById(this.id).style.display="none";};uloz.p.vlk=true;